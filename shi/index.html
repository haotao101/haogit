<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>video</title>
    <style>
    </style>
</head>
<body>
    <div class="wrapper">
	  <video id="video" style="display: none" autoplay src="http://clips.vorwaerts-gmbh.de/big_buck_bunny.mp4" x5-video-player-type="h5"></video>
	  <canvas id="canvas"></canvas>
	</div>

    <script>
          var video = document.querySelector('#video')
		  var canvas = document.querySelector('#canvas')
		  var wrapper = canvas.parentNode
		  var width = wrapper.offsetWidth
		  var height = wrapper.offsetHeight
		  var ctx = canvas.getContext('2d')
		  var time = null
		  canvas.width = width
		  canvas.height = height

		  canvas.addEventListener('click', function () {
			video.play()
		  })

		  video.addEventListener('play', function () {
			  time = window.setInterval(function () {
				ctx.drawImage(video, 0, 0, width, height);
			  }, 20);
		  }, false);

		  video.addEventListener('pause', function () {
			  window.clearInterval(time);
		  }, false);

		  video.addEventListener('ended', function () {
			  window.clearInterval(time);
		  }, false);
    </script>
</body>
